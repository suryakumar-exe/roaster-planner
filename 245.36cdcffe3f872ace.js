"use strict";(self.webpackChunkroaster_planner=self.webpackChunkroaster_planner||[]).push([[245],{1245:(b,c,t)=>{t.r(c),t.d(c,{ProfileComponent:()=>P});var d=t(177),a=t(4341),s=t(4438),p=t(4796),f=t(5574),_=t(5794);function h(l,v){1&l&&s.nrm(0,"div",41)}let P=(()=>{class l{constructor(u,i,e){this.authService=u,this.router=i,this.toastr=e,this.showChangePassword=!1,this.passwordData={currentPassword:"",newPassword:"",confirmPassword:""}}ngOnInit(){}changePassword(){this.passwordData.newPassword===this.passwordData.confirmPassword?this.passwordData.newPassword.length<8?this.toastr.error("New password must be at least 8 characters long"):(this.toastr.success("Password changed successfully"),this.showChangePassword=!1,this.passwordData={currentPassword:"",newPassword:"",confirmPassword:""}):this.toastr.error("New passwords do not match")}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.toastr.success("Logged out successfully")}static{this.\u0275fac=function(i){return new(i||l)(s.rXU(p.u),s.rXU(f.Ix),s.rXU(_.tw))}}static{this.\u0275cmp=s.VBU({type:l,selectors:[["app-profile"]],standalone:!0,features:[s.aNF],decls:100,vars:27,consts:[["passwordForm","ngForm"],[1,"container-fluid"],[1,"row"],[1,"col-lg-8"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","readonly","",1,"form-control",3,"value"],["type","email","readonly","",1,"form-control",3,"value"],["type","text","value","Active","readonly","",1,"form-control"],[1,"col-lg-4"],[1,"mb-3"],[1,"d-flex","justify-content-between"],[1,"fw-bold"],[1,"badge","bg-success"],[1,"card","mt-3"],[1,"btn","btn-outline-primary","w-100","mb-2",3,"click"],[1,"bi","bi-key","me-2"],[1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"bi","bi-box-arrow-right","me-2"],["tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],["for","currentPassword",1,"form-label"],["type","password","id","currentPassword","name","currentPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","newPassword",1,"form-label"],["type","password","id","newPassword","name","newPassword","required","","minlength","8",1,"form-control",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","modal-backdrop fade show",4,"ngIf"],[1,"modal-backdrop","fade","show"]],template:function(i,e){if(1&i){const n=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),s.EFF(6,"Profile Information"),s.k0s()(),s.j41(7,"div",7)(8,"div",2)(9,"div",8)(10,"label",9),s.EFF(11,"First Name"),s.k0s(),s.nrm(12,"input",10),s.nI1(13,"async"),s.k0s(),s.j41(14,"div",8)(15,"label",9),s.EFF(16,"Last Name"),s.k0s(),s.nrm(17,"input",10),s.nI1(18,"async"),s.k0s()(),s.j41(19,"div",2)(20,"div",8)(21,"label",9),s.EFF(22,"Email"),s.k0s(),s.nrm(23,"input",11),s.nI1(24,"async"),s.k0s(),s.j41(25,"div",8)(26,"label",9),s.EFF(27,"Role"),s.k0s(),s.nrm(28,"input",10),s.nI1(29,"async"),s.k0s()(),s.j41(30,"div",2)(31,"div",8)(32,"label",9),s.EFF(33,"Status"),s.k0s(),s.nrm(34,"input",12),s.k0s()()()()(),s.j41(35,"div",13)(36,"div",4)(37,"div",5)(38,"h5",6),s.EFF(39,"Account Statistics"),s.k0s()(),s.j41(40,"div",7)(41,"div",14)(42,"div",15)(43,"span"),s.EFF(44,"Member Since"),s.k0s(),s.j41(45,"span",16),s.EFF(46),s.nI1(47,"async"),s.nI1(48,"date"),s.k0s()()(),s.j41(49,"div",14)(50,"div",15)(51,"span"),s.EFF(52,"Last Login"),s.k0s(),s.j41(53,"span",16),s.EFF(54,"Today"),s.k0s()()(),s.j41(55,"div",14)(56,"div",15)(57,"span"),s.EFF(58,"Email Verified"),s.k0s(),s.j41(59,"span",17),s.EFF(60,"Yes"),s.k0s()()()()(),s.j41(61,"div",18)(62,"div",5)(63,"h5",6),s.EFF(64,"Quick Actions"),s.k0s()(),s.j41(65,"div",7)(66,"button",19),s.bIt("click",function(){return s.eBV(n),s.Njj(e.showChangePassword=!0)}),s.nrm(67,"i",20),s.EFF(68,"Change Password "),s.k0s(),s.j41(69,"button",21),s.bIt("click",function(){return s.eBV(n),s.Njj(e.logout())}),s.nrm(70,"i",22),s.EFF(71,"Logout "),s.k0s()()()()(),s.j41(72,"div",23)(73,"div",24)(74,"div",25)(75,"div",26)(76,"h5",27),s.EFF(77,"Change Password"),s.k0s(),s.j41(78,"button",28),s.bIt("click",function(){return s.eBV(n),s.Njj(e.showChangePassword=!1)}),s.k0s()(),s.j41(79,"div",29)(80,"form",30,0),s.bIt("ngSubmit",function(){return s.eBV(n),s.Njj(e.changePassword())}),s.j41(82,"div",14)(83,"label",31),s.EFF(84,"Current Password"),s.k0s(),s.j41(85,"input",32),s.mxI("ngModelChange",function(o){return s.eBV(n),s.DH7(e.passwordData.currentPassword,o)||(e.passwordData.currentPassword=o),s.Njj(o)}),s.k0s()(),s.j41(86,"div",14)(87,"label",33),s.EFF(88,"New Password"),s.k0s(),s.j41(89,"input",34),s.mxI("ngModelChange",function(o){return s.eBV(n),s.DH7(e.passwordData.newPassword,o)||(e.passwordData.newPassword=o),s.Njj(o)}),s.k0s()(),s.j41(90,"div",14)(91,"label",35),s.EFF(92,"Confirm New Password"),s.k0s(),s.j41(93,"input",36),s.mxI("ngModelChange",function(o){return s.eBV(n),s.DH7(e.passwordData.confirmPassword,o)||(e.passwordData.confirmPassword=o),s.Njj(o)}),s.k0s()()()(),s.j41(94,"div",37)(95,"button",38),s.bIt("click",function(){return s.eBV(n),s.Njj(e.showChangePassword=!1)}),s.EFF(96,"Cancel"),s.k0s(),s.j41(97,"button",39),s.bIt("click",function(){return s.eBV(n),s.Njj(e.changePassword())}),s.EFF(98,"Change Password"),s.k0s()()()()(),s.DNE(99,h,1,0,"div",40),s.k0s()}if(2&i){let n,r,o,m,w;const g=s.sdS(81);s.R7$(12),s.Y8G("value",null==(n=s.bMT(13,14,e.authService.currentUser$))?null:n.firstName),s.R7$(5),s.Y8G("value",null==(r=s.bMT(18,16,e.authService.currentUser$))?null:r.lastName),s.R7$(6),s.Y8G("value",null==(o=s.bMT(24,18,e.authService.currentUser$))?null:o.email),s.R7$(5),s.Y8G("value",(null==(m=s.bMT(29,20,e.authService.currentUser$))?null:m.role)||"N/A"),s.R7$(18),s.JRh(s.i5U(48,24,null==(w=s.bMT(47,22,e.authService.currentUser$))?null:w.createdAt,"MMM yyyy")),s.R7$(26),s.xc7("display",e.showChangePassword?"block":"none"),s.AVh("show",e.showChangePassword),s.R7$(13),s.R50("ngModel",e.passwordData.currentPassword),s.R7$(4),s.R50("ngModel",e.passwordData.newPassword),s.R7$(4),s.R50("ngModel",e.passwordData.confirmPassword),s.R7$(4),s.Y8G("disabled",!g.valid),s.R7$(2),s.Y8G("ngIf",e.showChangePassword)}},dependencies:[d.MD,d.bT,d.Jj,d.vh,a.YN,a.qT,a.me,a.BC,a.cb,a.YS,a.xh,a.vS,a.cV],encapsulation:2})}}return l})()}}]);