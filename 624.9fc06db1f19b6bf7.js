"use strict";(self.webpackChunkroaster_planner=self.webpackChunkroaster_planner||[]).push([[624],{6624:(v,c,r)=>{r.r(c),r.d(c,{TeamManagementComponent:()=>h});var m=r(177),o=r(4341),e=r(4438),l=r(5092),_=r(5794);function u(s,d){if(1&s){const t=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",10)(3,"div",11)(4,"h5",12),e.EFF(5,"Add New Team"),e.k0s()(),e.j41(6,"div",13)(7,"form",18,0),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addTeam())}),e.j41(9,"div",9)(10,"div",19)(11,"label",20),e.EFF(12,"Team Name"),e.k0s(),e.j41(13,"input",21),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.newTeam.name,n)||(i.newTeam.name=n),e.Njj(n)}),e.k0s()(),e.j41(14,"div",19)(15,"label",22),e.EFF(16,"Description"),e.k0s(),e.j41(17,"input",23),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.newTeam.description,n)||(i.newTeam.description=n),e.Njj(n)}),e.k0s()()(),e.j41(18,"div",9)(19,"div",19)(20,"label",24),e.EFF(21,"Status"),e.k0s(),e.j41(22,"select",25),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.newTeam.isActive,n)||(i.newTeam.isActive=n),e.Njj(n)}),e.j41(23,"option",26),e.EFF(24,"Active"),e.k0s(),e.j41(25,"option",26),e.EFF(26,"Inactive"),e.k0s()()()(),e.j41(27,"div",27)(28,"button",28),e.EFF(29," Add Team "),e.k0s(),e.j41(30,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelAdd())}),e.EFF(31," Cancel "),e.k0s()()()()()()()}if(2&s){const t=e.sdS(8),a=e.XpG();e.R7$(13),e.R50("ngModel",a.newTeam.name),e.R7$(4),e.R50("ngModel",a.newTeam.description),e.R7$(5),e.R50("ngModel",a.newTeam.isActive),e.R7$(),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(3),e.Y8G("disabled",!t.valid)}}function p(s,d){if(1&s){const t=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",10)(3,"div",11)(4,"h5",12),e.EFF(5,"Edit Team"),e.k0s()(),e.j41(6,"div",13)(7,"form",18,1),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateTeam())}),e.j41(9,"div",9)(10,"div",19)(11,"label",30),e.EFF(12,"Team Name"),e.k0s(),e.j41(13,"input",31),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.editTeamData.name,n)||(i.editTeamData.name=n),e.Njj(n)}),e.k0s()(),e.j41(14,"div",19)(15,"label",32),e.EFF(16,"Description"),e.k0s(),e.j41(17,"input",33),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.editTeamData.description,n)||(i.editTeamData.description=n),e.Njj(n)}),e.k0s()()(),e.j41(18,"div",9)(19,"div",19)(20,"label",34),e.EFF(21,"Status"),e.k0s(),e.j41(22,"select",35),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.editTeamData.isActive,n)||(i.editTeamData.isActive=n),e.Njj(n)}),e.j41(23,"option",26),e.EFF(24,"Active"),e.k0s(),e.j41(25,"option",26),e.EFF(26,"Inactive"),e.k0s()()()(),e.j41(27,"div",27)(28,"button",28),e.EFF(29," Update Team "),e.k0s(),e.j41(30,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelEdit())}),e.EFF(31," Cancel "),e.k0s()()()()()()()}if(2&s){const t=e.sdS(8),a=e.XpG();e.R7$(13),e.R50("ngModel",a.editTeamData.name),e.R7$(4),e.R50("ngModel",a.editTeamData.description),e.R7$(5),e.R50("ngModel",a.editTeamData.isActive),e.R7$(),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(3),e.Y8G("disabled",!t.valid)}}function g(s,d){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",36),e.EFF(9),e.k0s()(),e.j41(10,"td"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td")(14,"div",37)(15,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.editTeam(n))}),e.nrm(16,"i",39),e.k0s(),e.j41(17,"button",40),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.deleteTeam(n.id))}),e.nrm(18,"i",41),e.k0s()()()()}if(2&s){const t=d.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.description||"N/A"),e.R7$(2),e.AVh("bg-success",t.isActive)("bg-danger",!t.isActive),e.R7$(),e.SpI(" ",t.isActive?"Active":"Inactive"," "),e.R7$(2),e.JRh(e.i5U(12,9,t.createdAt,"MMM dd, yyyy"))}}function T(s,d){1&s&&(e.j41(0,"div",42),e.nrm(1,"i",43),e.j41(2,"h5",44),e.EFF(3,"No teams found"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Add your first team to get started!"),e.k0s()())}let h=(()=>{class s{constructor(t,a){this.teamsService=t,this.toastr=a,this.teams=[],this.showAddForm=!1,this.showEditForm=!1,this.editingTeam=null,this.newTeam={name:"",description:"",isActive:!0,memberCount:0,createdBy:1},this.editTeamData={name:"",description:"",isActive:!0}}ngOnInit(){this.loadTeams()}loadTeams(){this.teamsService.getTeams().subscribe({next:t=>{this.teams=Array.isArray(t)?t:t.data||[],console.log("Loaded teams:",this.teams)},error:t=>{console.error("Error loading teams:",t),this.toastr.error("Failed to load teams")}})}addTeam(){this.newTeam.name?this.teamsService.createTeam(this.newTeam).subscribe({next:t=>{this.toastr.success("Team created successfully"),this.loadTeams(),this.cancelAdd()},error:t=>{console.error("Error creating team:",t),this.toastr.error("Failed to create team")}}):this.toastr.error("Please enter a team name")}editTeam(t){this.editingTeam=t,this.editTeamData={name:t.name,description:t.description||"",isActive:t.isActive},this.showEditForm=!0,this.showAddForm=!1}updateTeam(){this.editTeamData.name?this.editingTeam?this.teamsService.updateTeam(this.editingTeam.id,this.editTeamData).subscribe({next:t=>{this.toastr.success("Team updated successfully"),this.loadTeams(),this.cancelEdit()},error:t=>{console.error("Error updating team:",t),this.toastr.error("Failed to update team")}}):this.toastr.error("No team selected for editing"):this.toastr.error("Please enter a team name")}deleteTeam(t){confirm("Are you sure you want to delete this team?")&&this.teamsService.deleteTeam(t).subscribe({next:a=>{this.toastr.success("Team deleted successfully"),this.loadTeams()},error:a=>{console.error("Error deleting team:",a),this.toastr.error("Failed to delete team")}})}cancelAdd(){this.showAddForm=!1,this.newTeam={name:"",description:"",isActive:!0,memberCount:0,createdBy:1}}cancelEdit(){this.showEditForm=!1,this.editingTeam=null,this.editTeamData={name:"",description:"",isActive:!0}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(l.O),e.rXU(_.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-team-management"]],standalone:!0,features:[e.aNF],decls:37,vars:4,consts:[["teamForm","ngForm"],["editForm","ngForm"],[1,"container-fluid"],[1,"row","mb-4"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-2"],["class","row mb-4",4,"ngIf"],[1,"row"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["class","text-center text-muted py-5",4,"ngIf"],[3,"ngSubmit"],[1,"col-md-6","mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","description",1,"form-label"],["type","text","id","description","name","description",1,"form-control",3,"ngModelChange","ngModel"],["for","isActive",1,"form-label"],["id","isActive","name","isActive",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["for","editName",1,"form-label"],["type","text","id","editName","name","editName","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","editDescription",1,"form-label"],["type","text","id","editDescription","name","editDescription",1,"form-control",3,"ngModelChange","ngModel"],["for","editIsActive",1,"form-label"],["id","editIsActive","name","editIsActive",1,"form-select",3,"ngModelChange","ngModel"],[1,"badge"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"text-center","text-muted","py-5"],[1,"bi","bi-diagram-3","fs-1"],[1,"mt-3"]],template:function(a,n){1&a&&(e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2"),e.EFF(5,"Team Management"),e.k0s(),e.j41(6,"button",6),e.bIt("click",function(){return n.showAddForm=!0}),e.nrm(7,"i",7),e.EFF(8,"Add Team "),e.k0s()()()(),e.DNE(9,u,32,6,"div",8)(10,p,32,6,"div",8),e.j41(11,"div",9)(12,"div",4)(13,"div",10)(14,"div",11)(15,"h5",12),e.EFF(16,"All Teams"),e.k0s()(),e.j41(17,"div",13)(18,"div",14)(19,"table",15)(20,"thead")(21,"tr")(22,"th"),e.EFF(23,"ID"),e.k0s(),e.j41(24,"th"),e.EFF(25,"Name"),e.k0s(),e.j41(26,"th"),e.EFF(27,"Description"),e.k0s(),e.j41(28,"th"),e.EFF(29,"Status"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Created"),e.k0s(),e.j41(32,"th"),e.EFF(33,"Actions"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,g,19,12,"tr",16),e.k0s()()(),e.DNE(36,T,6,0,"div",17),e.k0s()()()()()),2&a&&(e.R7$(9),e.Y8G("ngIf",n.showAddForm),e.R7$(),e.Y8G("ngIf",n.showEditForm),e.R7$(25),e.Y8G("ngForOf",n.teams),e.R7$(),e.Y8G("ngIf",0===n.teams.length))},dependencies:[m.MD,m.Sq,m.bT,m.vh,o.YN,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,o.YS,o.xh,o.vS,o.cV],encapsulation:2})}}return s})()}}]);